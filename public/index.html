<!-- View the Instructions.txt file to get started -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Module 4 Lab</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  </head>
  <body>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <!-- Popper needed for some Bootstrap components -->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <!-- Bootstrap -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>   


    <div class="jumbotron text-center py-4">
      <h1>Module 4 Lab - Node Exercises</h1>
      <p>Follow the instructions for each part.</p>
      <p><a href="https://ilearn.laccd.edu/courses/202867/pages/module-2-jquery" target="_blank">jQuery Reference</a>
        | <a href="https://ilearn.laccd.edu/courses/202867/pages/module-3-ajax" target="_blank">Ajax Reference</a>
        | <a href="https://ilearn.laccd.edu/courses/202867/pages/module-3-json" target="_blank">JSON Reference</a>
        | <a href="https://ilearn.laccd.edu/courses/202867/pages/module-4-nodejs-reference" target="_blank">Node Reference</a>
      </p>

    </div>

    <!-- PART 2 -->
    <div class="container jumbotron py-4 px-4">
      <h2>Part 2</h2>
      <p>When the Greet Node button is clicked, ping Node by sending a GET request to the /hello endpoint. Have node send back "Hello Client!" and display it using a popup.</p><hr/>

      <button id="greetNodeBtn" type="button" class="btn btn-primary">Greet Node</button>
      <script>
        /* 
          Step 1. Define a click event handler for the button with id "greetNodeBtn"
          Step 2. In the click handler, send a GET /hello Ajax request to your endpoint using jQuery
                  in the get request, display the response using an alert();
          Step 3. Look at part 2 in the index.js file for instructions on the endpoint handler.

          Help References:
          Ajax $.get() - https://ilearn.laccd.edu/courses/202867/pages/module-3-ajax
          
        */

        // Part 2 Code Here
        $('#greetNodeBtn').click(function(){
          $.get("/hello", function(result, status) {
            alert("this is the result: " + result);
})
.fail(function(err) { 
   alert('Something went wrong');
});
        })

      </script>
    </div>

    <!-- PART 3 -->
    <div class="container jumbotron py-4 px-4">
      <h2>Part 3</h2>
      <p>When the Get Random Quote button is clicked, Node should return a random quote that is displayed in the blue box. Use Node to register an endpoint for "/quote" that uses a provided Node module to generate a random quote for you.</p><hr/>

      <form class="form-inline mb-2">
        <button id="getQuoteBtn" type="button" class="btn btn-primary">Get Random Quote</button>
      </form>
      <div id="quoteBox" class="alert alert-primary">
        Click Get Random Quote to have Node send you a famous quote.
      </div>

      <script>
        /* 
          Step 1. Define a click event handler for the button with id "getQuoteBtn"
          Step 2. In the click handler, send a GET /quote Ajax request to your endpoint using jQuery.
                  In the get request, use jQuery (text()) to display the response by loading the contents into the alert with id "quoteBox"
          Step 3. For an additional effect, use jQuery to fade the alert box each time.
          Step 4. Look at part 3 in the index.js file for instructions on the endpoint handler.

          Help References:
          Ajax $.get() - https://ilearn.laccd.edu/courses/202867/pages/module-3-ajax
          jQuery .text() - https://ilearn.laccd.edu/courses/202867/pages/module-2-introduction-to-jquery
        */

        // Part 3 Code Here
        $.ajax({
           url: "/quote",
           type: "get",
           success: function(result) {
              $('#quoteBox').text(result);
           },
           error: function(result) {
              alert("something went wrong.");
           }
        });


      </script>
    </div>

    <!-- PART 4 -->
    <div class="container jumbotron py-4 px-4">
      <h2>Part 4</h2>
      <p>When the Get Address button is clicked, Node should return a JSON response with the address information that is loaded into the form. Use Node to register the endpoint "/address" for handling this request.</p><hr/>

        <h3>Address Information</h3>
        <div class="form-row">
          <div class="form-group col-md-12">
            <label>Name</label>
            <input id="nameTxt" type="text" class="form-control">
          </div>
        </div>
        <div class="form-group">
          <label>Address</label>
          <input id="addressTxt" type="text" class="form-control">
        </div>
        <div class="form-row">
          <div class="form-group col-md-8">
            <label>City</label>
            <input id="cityTxt" type="text" class="form-control">
          </div>
          <div class="form-group col-md-2">
            <label>State</label>
            <input id="stateTxt" type="text" class="form-control">
          </div>
          <div class="form-group col-md-2">
            <label>Zip</label>
            <input id="zipTxt" type="text" class="form-control">
          </div>
        </div>
        <button id="getAddressBtn" type="button" class="btn btn-primary mb-2">Get Address</button>

      <script>
        /* 
          Step 1. Define a click event handler for the button with id "getAddressBtn"
          Step 2. In the click handler, send a GET /address Ajax request to your endpoint using jQuery ($.getJSON())
                  In the $.getJSON() callback, use jQuery (val()) to load the object's properties into the relevant form fields.
          Step 3. Look at part 4 in the index.js file for instructions on the endpoint handler.

          Help References:
          Ajax $.getJSON() - https://ilearn.laccd.edu/courses/202867/pages/module-3-ajax
          jQuery .val() - https://ilearn.laccd.edu/courses/202867/pages/module-2-introduction-to-jquery
        */

        // Part 4 Code Here
        $('#getAddressBtn').click(function(){
          $.getJSON('/address', function(result){
            $('#nameTxt').val(result.name);
            $('#addressTxt').val(result.street);
            $('#cityTxt').val(result.city);
            $('#stateTxt').val(result.state);
            $('#zipTxt').val(result.zip);
          })
        })
        
      </script>
    </div>

    <!-- PART 5 -->
    <div class="container jumbotron py-4 px-4">
      <h2>Part 5</h2>
      <p>Test all 4 of your endpoints using a third-party API testing tool such as req bin. Take note of the response headers. The 4 endpoints your Node server should have are:</p>
      <ul>
        <li>https://{your-replit-URL}/</li>
        <li>https://{your-replit-URL}/hello</li>
        <li>https://{your-replit-URL}/quote</li>
        <li>https://{your-replit-URL}/address</li>
      </ul>
    </div>
  </body>
</html>